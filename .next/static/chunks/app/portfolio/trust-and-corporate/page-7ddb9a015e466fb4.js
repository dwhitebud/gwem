(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[546],{1384:(t,e,a)=>{Promise.resolve().then(a.bind(a,9247))},9247:(t,e,a)=>{"use strict";a.r(e),a.d(e,{default:()=>l});var s=a(5155),r=a(2115),n=a(6563);function i(t){let{entities:e,relationships:a}=t,i=(0,r.useRef)(null);return(0,r.useEffect)(()=>{if(!i.current||!e.length)return;n.Ltv(i.current).selectAll("*").remove();let t=n.Ltv(i.current).attr("viewBox",[0,0,800,600]).attr("style","max-width: 100%; height: auto;"),s=e.map(t=>({id:t.id,name:t.name,type:t.type,x:400+100*Math.random()-50,y:300+100*Math.random()-50})),r=a.map(t=>({source:s.find(e=>e.id===t.sourceId),target:s.find(e=>e.id===t.targetId),sourceId:t.sourceId,targetId:t.targetId,type:t.type,percentage:t.percentage})),l=n.tXi(s).force("link",n.kJC(r).id(t=>t.id).distance(100)).force("charge",n.xJS().strength(-200)).force("center",n.jTM(400,300));t.append("defs").selectAll("marker").data(["arrow"]).join("marker").attr("id",t=>t).attr("viewBox","0 -5 10 10").attr("refX",30).attr("refY",0).attr("markerWidth",6).attr("markerHeight",6).attr("orient","auto").append("path").attr("fill","#999").attr("d","M0,-5L10,0L0,5");let c=t.append("g").attr("class","links").selectAll("line").data(r).join("line").attr("stroke","#999").attr("stroke-opacity",.6).attr("stroke-width",2).attr("marker-end","url(#arrow)"),d=t.append("g").attr("class","nodes").selectAll("g").data(s).join("g"),o=n.$Er().on("start",t=>{t.active||l.alphaTarget(.3).restart(),t.subject.fx=t.subject.x,t.subject.fy=t.subject.y}).on("drag",t=>{t.subject.fx=t.x,t.subject.fy=t.y}).on("end",t=>{t.active||l.alphaTarget(0),t.subject.fx=null,t.subject.fy=null});d.call(o),d.append("circle").attr("r",20).attr("fill",t=>({trust:"#4CAF50",corporation:"#2196F3",llc:"#FF9800",partnership:"#9C27B0",other:"#607D8B"})[t.type]),d.append("text").text(t=>t.name).attr("x",25).attr("y",5).attr("font-size","12px").attr("fill","#025584");let x=t.append("g").attr("class","link-labels").selectAll("text").data(r).join("text").attr("font-size","10px").attr("fill","#666").text(t=>t.percentage?"".concat(t.percentage,"%"):"");return l.on("tick",()=>{c.attr("x1",t=>t.source.x).attr("y1",t=>t.source.y).attr("x2",t=>t.target.x).attr("y2",t=>t.target.y),d.attr("transform",t=>"translate(".concat(t.x,",").concat(t.y,")")),x.attr("x",t=>(t.source.x+t.target.x)/2).attr("y",t=>(t.source.y+t.target.y)/2)}),()=>{l.stop()}},[e,a]),(0,s.jsx)("div",{className:"w-full h-full border rounded-lg bg-white p-4",children:(0,s.jsx)("svg",{ref:i,width:"100%",height:"100%"})})}function l(){let[t,e]=(0,r.useState)([]),[a,n]=(0,r.useState)([]),[l,c]=(0,r.useState)(null);return(0,r.useEffect)(()=>{e([{id:"1",name:"Family Trust",type:"trust",dateEstablished:"2020-01-01",assets:[],parentEntities:[],childEntities:["2","3"],ownership:[]},{id:"2",name:"Real Estate LLC",type:"llc",dateEstablished:"2020-02-01",assets:[],parentEntities:["1"],childEntities:[],ownership:[{entityId:"1",percentage:100}]},{id:"3",name:"Investment Corp",type:"corporation",dateEstablished:"2020-03-01",assets:[],parentEntities:["1"],childEntities:[],ownership:[{entityId:"1",percentage:100}]}]),n([{sourceId:"1",targetId:"2",type:"owns",percentage:100},{sourceId:"1",targetId:"3",type:"owns",percentage:100}])},[]),(0,s.jsxs)("div",{className:"container mx-auto px-4 py-8 max-w-[1280px]",children:[(0,s.jsx)("h1",{className:"text-[#025584] text-3xl font-bold mb-8",children:"Trust & Corporate Assets"}),(0,s.jsxs)("div",{className:"mb-8 h-[600px]",children:[(0,s.jsx)("h2",{className:"text-[#025584] text-2xl font-semibold mb-4",children:"Entity Relationships"}),(0,s.jsx)(i,{entities:t,relationships:a})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[(0,s.jsxs)("section",{className:"bg-white p-6 rounded-xl shadow-[0_2px_4px_rgba(0,0,0,0.1)]",children:[(0,s.jsx)("h2",{className:"text-[#025584] text-2xl font-semibold mb-4",children:"Entities"}),(0,s.jsx)("div",{className:"space-y-4",children:t.map(t=>(0,s.jsxs)("div",{className:"p-4 border rounded-lg cursor-pointer hover:bg-gray-50",onClick:()=>c(t),children:[(0,s.jsx)("h3",{className:"text-[#025584] font-medium",children:t.name}),(0,s.jsxs)("p",{className:"text-[#025584CC] text-sm",children:["Type: ",t.type]}),(0,s.jsxs)("p",{className:"text-[#025584CC] text-sm",children:["Established: ",new Date(t.dateEstablished).toLocaleDateString()]})]},t.id))})]}),(0,s.jsxs)("section",{className:"bg-white p-6 rounded-xl shadow-[0_2px_4px_rgba(0,0,0,0.1)]",children:[(0,s.jsx)("h2",{className:"text-[#025584] text-2xl font-semibold mb-4",children:"Entity Details"}),l?(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-[#025584] text-xl mb-2",children:l.name}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("p",{className:"text-[#025584CC]",children:[(0,s.jsx)("strong",{children:"Type:"})," ",l.type]}),(0,s.jsxs)("p",{className:"text-[#025584CC]",children:[(0,s.jsx)("strong",{children:"Date Established:"})," ",new Date(l.dateEstablished).toLocaleDateString()]}),(0,s.jsx)("p",{className:"text-[#025584CC]",children:(0,s.jsx)("strong",{children:"Ownership:"})}),(0,s.jsx)("ul",{className:"list-disc pl-5",children:l.ownership.map(e=>{var a;return(0,s.jsxs)("li",{className:"text-[#025584CC]",children:[null===(a=t.find(t=>t.id===e.entityId))||void 0===a?void 0:a.name," (",e.percentage,"%)"]},e.entityId)})})]})]}):(0,s.jsx)("p",{className:"text-[#025584CC]",children:"Select an entity to view details"})]})]})]})}}},t=>{var e=e=>t(t.s=e);t.O(0,[563,441,517,358],()=>e(1384)),_N_E=t.O()}]);